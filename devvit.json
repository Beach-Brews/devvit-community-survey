{
  "$schema": "https://developers.reddit.com/schema/config-file.v1.json",
  "name": "community-survey",
  "permissions": {
    "redis": true,
    "media": true,
    "reddit": {
      "enable": true
    }
  },
  "post": {
    "dir": "dist/client",
    "entrypoints": {
      "default": {
        "entry": "survey.html",
        "height": "tall",
        "inline": true
      },
      "dashboard": {
        "entry": "dashboard.html",
        "height": "tall",
        "inline": true
      }
    }
  },
  "server": {
    "dir": "dist/server",
    "entry": "index.cjs"
  },
  "media": {
      "dir": "assets"
  },
  "menu": {
    "items": [
      {
        "label": "Create Survey Dashboard",
        "description": "r/CommunitySurvey",
        "location": "subreddit",
        "forUserType": "moderator",
        "endpoint": "/internal/menu/create-dashboard"
      }
    ]
  },
  "triggers": {
    "onAppInstall": "/internal/trigger/on-install",
    "onAppUpgrade": "/internal/trigger/on-upgrade"
  },
  "scheduler": {
    "tasks": {
      "task-runner": {
        "endpoint": "/internal/cron/task-runner",
        "cron": "* * * * *"
      },
      "delete-survey": {
        "endpoint": "/internal/task/delete-survey"
      }
    }
  },
  "settings": {
    "subreddit": {
      "devConsole": {
        "type": "boolean",
        "label": "Developer Console",
        "helpText": "Allows the developer read-only access to a developer console. Leave this setting off unless receiving support.",
        "defaultValue": false
      },
      "logLevel": {
        "type": "select",
        "label": "Log Level",
        "helpText": "Controls the level of log messages. Warn (default) should be used for performance reasons. The app developer may have you change the log level if receiving support.",
        "defaultValue": "Warn",
        "options": [
          {
            "label": "Error",
            "value": "Error"
          },
          {
            "label": "Warn",
            "value": "Warn"
          },
          {
            "label": "Info",
            "value": "Info"
          },
          {
            "label": "Debug",
            "value": "Debug"
          },
          {
            "label": "Trace",
            "value": "Trace"
          }
        ]
      }
    }
  },
  "marketingAssets": {
	"icon": "assets/community-survey-app-icon.png"
  },
  "dev": {
    "subreddit": "beachbrewsboil"
  }
}
